â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    E2E TEST STRUCTURE & ORGANIZATION                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROJECT: Claude Studio Terminal E2E Tests
FRAMEWORK: Playwright Test
BROWSER COVERAGE: Chromium, Firefox, WebKit (3 browsers)
TOTAL TESTS: 111 (37 per browser)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TEST FILES OVERVIEW                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“„ tests/e2e/terminal.spec.ts (287 lines)
   â”œâ”€ Terminal UI (4 tests)
   â”‚  â”œâ”€ should load and display terminal container
   â”‚  â”œâ”€ should display terminal with xterm viewport
   â”‚  â”œâ”€ should display welcome message on load
   â”‚  â””â”€ should handle terminal focus
   â”‚
   â”œâ”€ Terminal Connection Status (3 tests)
   â”‚  â”œâ”€ should display connection status element
   â”‚  â”œâ”€ should display status indicator dot
   â”‚  â””â”€ should display session ID when connected
   â”‚
   â”œâ”€ Terminal Output Handling (3 tests)
   â”‚  â”œâ”€ should display text typed in terminal
   â”‚  â”œâ”€ should handle multiple input lines
   â”‚  â””â”€ should handle special characters in input
   â”‚
   â””â”€ Terminal Viewport and Scrolling (5 tests)
      â”œâ”€ should have proper viewport dimensions
      â”œâ”€ should support scrolling
      â”œâ”€ should maintain terminal visibility after scrolling
      â””â”€ [2 additional viewport tests]

ğŸ“„ tests/e2e/websocket.spec.ts (410 lines)
   â”œâ”€ WebSocket Connection Establishment (3 tests)
   â”‚  â”œâ”€ should establish WebSocket connection on page load
   â”‚  â”œâ”€ should display connecting status briefly
   â”‚  â””â”€ should show error state on connection failure
   â”‚
   â”œâ”€ Session ID Management (3 tests)
   â”‚  â”œâ”€ should receive and display session ID from server
   â”‚  â”œâ”€ should have valid session ID format
   â”‚  â””â”€ should maintain same session ID while connected
   â”‚
   â”œâ”€ WebSocket Message Exchange (5 tests)
   â”‚  â”œâ”€ should send terminal input and receive echo response
   â”‚  â”œâ”€ should handle multiple consecutive messages
   â”‚  â”œâ”€ should handle empty input gracefully
   â”‚  â”œâ”€ should preserve message order
   â”‚  â””â”€ [1 additional message test]
   â”‚
   â”œâ”€ WebSocket Connection Lifecycle (3 tests)
   â”‚  â”œâ”€ should survive page reload with new session
   â”‚  â”œâ”€ should maintain functionality after reload
   â”‚  â””â”€ should handle rapid reconnections
   â”‚
   â”œâ”€ WebSocket Error Handling (2 tests)
   â”‚  â”œâ”€ should handle connection drops gracefully
   â”‚  â””â”€ should allow retrying after connection failure
   â”‚
   â””â”€ WebSocket with Terminal Integration (3 tests)
      â”œâ”€ should echo user input through WebSocket
      â”œâ”€ should handle long messages through WebSocket
      â””â”€ should handle rapid input sequences

ğŸ“„ tests/e2e/sample.spec.ts (4 tests)
   â”œâ”€ Application Home Page (3 tests)
   â”‚  â”œâ”€ should load and display correct title
   â”‚  â”œâ”€ should have main heading
   â”‚  â””â”€ should respond to navigation
   â”‚
   â””â”€ Application Responsiveness (1 test)
      â””â”€ should load within acceptable time

ğŸ“„ tests/e2e/global-setup.ts (42 lines)
   â””â”€ Server health check before tests run

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EXECUTION FLOW                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 1: Start Servers (Required - 3 Terminal Windows)
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Terminal 1              â”‚
  â”‚ $ pnpm --filter server dev
  â”‚ Output: Server listening on ws://127.0.0.1:3850
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Terminal 2              â”‚
  â”‚ $ pnpm --filter client dev
  â”‚ Output: VITE ready at http://127.0.0.1:3001
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 2: Run Tests
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Terminal 3              â”‚
  â”‚ $ pnpm test:e2e         â”‚
  â”‚                         â”‚
  â”‚ Output: 111 tests       â”‚
  â”‚ chromium: 37 tests      â”‚
  â”‚ firefox: 37 tests       â”‚
  â”‚ webkit: 37 tests        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 3: View Results
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ $ npx playwright        â”‚
  â”‚   show-report           â”‚
  â”‚                         â”‚
  â”‚ Opens HTML report       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TEST COVERAGE BREAKDOWN                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

FEATURE CATEGORIES:
  âœ“ Terminal Loading & Rendering ........... 4 tests
  âœ“ Connection Status & Display ........... 3 tests
  âœ“ User Input & Output ................... 3 tests
  âœ“ Viewport & Scrolling .................. 5 tests
  âœ“ WebSocket Connection .................. 3 tests
  âœ“ Session Management .................... 3 tests
  âœ“ Message Exchange ...................... 5 tests
  âœ“ Connection Lifecycle .................. 3 tests
  âœ“ Error Handling ........................ 2 tests
  âœ“ Terminal-WebSocket Integration ........ 3 tests
  âœ“ Sanity Checks ......................... 4 tests
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  TOTAL: 37 tests per browser Ã— 3 browsers = 111 tests

EDGE CASES COVERED:
  âœ“ Empty input
  âœ“ Long messages (100+ characters)
  âœ“ Rapid consecutive inputs
  âœ“ Page reload during session
  âœ“ Network disconnection/reconnection
  âœ“ Special characters
  âœ“ Scrollback with many lines
  âœ“ Multiple browser contexts
  âœ“ Message ordering
  âœ“ Offline/online transitions

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ACCEPTANCE CRITERIA STATUS                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… Test: Open app and see terminal
   â””â”€ 4 tests covering terminal loading and display

âœ… Test: Connection status shows "Connected"
   â””â”€ 6 tests covering status indicator and session ID

âœ… Test: Type in terminal and see echo response
   â””â”€ 8 tests covering input, output, and message handling

âœ… Test: Terminal scrollback works
   â””â”€ 5 tests covering viewport, scrolling, and dimensions

âœ… Test: Connection survives page reload (reconnection)
   â””â”€ 3 tests covering reload, functionality preservation, rapid reconnections

âœ… Test runs in CI (headless mode)
   â””â”€ CI/CD workflow configured with multi-browser support

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CONFIGURATION HIGHLIGHTS                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

playwright.config.ts:
  â€¢ Base URL: http://localhost:3001 (frontend)
  â€¢ Test Timeout: 30 seconds
  â€¢ Parallel: Yes (4 workers locally, 1 on CI)
  â€¢ Retries: 0 locally, 2 on CI
  â€¢ Reporters: HTML, List, JSON
  â€¢ Screenshots: On failure only
  â€¢ Videos: On first retry
  â€¢ Trace: On first retry

Supported Browsers:
  âœ“ Chromium (37 tests)
  âœ“ Firefox (37 tests)
  âœ“ WebKit (37 tests)

CI/CD Ready:
  âœ“ GitHub Actions workflow configured
  âœ“ Matrix testing (all 3 browsers)
  âœ“ Artifact uploads (reports, traces)
  âœ“ PR comments with results
  âœ“ Automatic retries on failure

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ QUICK COMMANDS                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# Run all tests
$ pnpm test:e2e

# Run with UI (interactive)
$ pnpm test:e2e:ui

# Run with debugger
$ pnpm test:e2e:debug

# Run specific file
$ pnpm test:e2e tests/e2e/terminal.spec.ts
$ pnpm test:e2e tests/e2e/websocket.spec.ts

# Run by browser
$ pnpm test:e2e --project=chromium
$ pnpm test:e2e --project=firefox
$ pnpm test:e2e --project=webkit

# Run by name pattern
$ pnpm test:e2e -g "should load"
$ pnpm test:e2e -g "connection"

# View report
$ npx playwright show-report

# Check test list
$ pnpm test:e2e --list

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EXPECTED RESULTS                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

When servers are running:
  Expected: âœ… 111/111 tests passed
  Duration: ~3-4 minutes (parallel)
  Report: HTML with screenshots on failure
  Status: All tests green

When viewed in UI mode:
  âœ“ Step-by-step execution visible
  âœ“ Screenshots of each interaction
  âœ“ Network activity shown
  âœ“ Console logs captured
  âœ“ Live editing of selectors
  âœ“ Test filtering available

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FILES LOCATION                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

/opt/dev/claude-studio/
â”œâ”€â”€ tests/e2e/
â”‚   â”œâ”€â”€ terminal.spec.ts ................. Terminal UI tests (15 tests)
â”‚   â”œâ”€â”€ websocket.spec.ts ............... WebSocket tests (22 tests)
â”‚   â”œâ”€â”€ sample.spec.ts .................. Sanity checks (4 tests)
â”‚   â”œâ”€â”€ global-setup.ts ................. Pre-test setup
â”‚   â””â”€â”€ README.md ....................... Complete documentation
â”‚
â”œâ”€â”€ playwright.config.ts ................. Configuration file (UPDATED)
â”œâ”€â”€ E2E-TEST-QUICK-START.md ............. Quick reference
â”œâ”€â”€ E2E-TEST-STRUCTURE.txt .............. This file
â”œâ”€â”€ P02-T008-E2E-TESTS.md ............... Implementation summary
â”‚
â””â”€â”€ .github/workflows/
    â””â”€â”€ e2e-tests.yml ................... CI/CD pipeline

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PERFORMANCE METRICS                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Per Test Average: 2-5 seconds
Full Suite (1 browser): 2-3 minutes
All Browsers (parallel): 3-4 minutes
CI with retries: 10-15 minutes

Memory per browser: 200-300 MB
CPU: Single core per browser
Network: Local only (no external dependencies)

